#include <stdio.h>
#include <stdlib.h>

int asalmi(int sayi)
{
	int i,sayac=0;
	
	for(i=1;i<=sayi;i++)
	{
		if(sayi%i==0)
		{
			sayac++;
		}
	}
	
	if(sayac==2)
	{
		return 1;
	}
	else
	{
		return 0;
	}
	
}


   int main(){
   	
   	FILE *dosya1;
   	FILE *dosya2;
   	int sayi;
   	
   	dosya1=fopen("sayilar.txt","r");
   	dosya2=fopen("sayilar2.txt","w");
   	
   	if(dosya1==NULL)
   	{
   		printf("Sayilarin okundugu belgede hata olustu...");
	}
	
	if(dosya2==NULL)
   	{
   		printf("Asal sayilarin yazildigi belgede hata olustu...");
	}
   	
   	while(!feof(dosya1))
   	{
   		fscanf(dosya1,"%d",&sayi);
   		if(asalmi(sayi))
   		{
   			fprintf(dosya2,"%d\n",sayi);
		}
	}
	
	fclose(dosya1);
	fclose(dosya2);
	printf("islem tamamlanmistir...");
   	
   	return 0;
   }
